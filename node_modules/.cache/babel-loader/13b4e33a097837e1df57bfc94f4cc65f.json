{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{Form,Input,Button}from'antd';var Login=function Login(_ref){var loginStatus=_ref.loginStatus,location=_ref.location,setLoginInfo=_ref.setLoginInfo,history=_ref.history;var _ref2=location.state||{},_ref2$redirectUrl=_ref2.redirectUrl,redirectUrl=_ref2$redirectUrl===void 0?'/':_ref2$redirectUrl;// 获取登录信息伪代码\nvar onFinish=function onFinish(values){/**** 此处去获取登录信息并存放在全局 Store ****/setLoginInfo({username:'小A',role:1});history.push(redirectUrl);};return/*#__PURE__*/React.createElement(\"div\",{className:\"login layer\"},/*#__PURE__*/React.createElement(Form,{name:\"basic\",onFinish:onFinish},/*#__PURE__*/React.createElement(Form.Item,{label:\"\\u7528\\u6237\\u540D\",name:\"username\",rules:[{required:true,message:'输入用户名'}]},/*#__PURE__*/React.createElement(Input,null)),/*#__PURE__*/React.createElement(Form.Item,{label:\"\\u5BC6\\u7801\",name:\"password\",rules:[{required:true,message:'输入密码'}]},/*#__PURE__*/React.createElement(Input.Password,null)),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"\\u767B\\u9646\"))));};var mapStateToProps=function mapStateToProps(state){return{loginStatus:state.login.loginStatus};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setLoginInfo:function(_setLoginInfo){function setLoginInfo(){return _setLoginInfo.apply(this,arguments);}setLoginInfo.toString=function(){return _setLoginInfo.toString();};return setLoginInfo;}(function(){return dispatch(setLoginInfo.apply(void 0,arguments));})};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/nancy/project/react-success/react-hook/src/pages/login/login.js"],"names":["React","connect","Form","Input","Button","Login","loginStatus","location","setLoginInfo","history","state","redirectUrl","onFinish","values","username","role","push","required","message","mapStateToProps","login","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,MAAtB,KAAmC,MAAnC,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAKO,IAJFC,CAAAA,WAIE,MAJFA,WAIE,CAHFC,QAGE,MAHFA,QAGE,CAFFC,YAEE,MAFFA,YAEE,CADFC,OACE,MADFA,OACE,WACWF,QAAQ,CAACG,KAAT,EAAkB,EAD7B,yBACXC,WADW,CACXA,WADW,4BACG,GADH,mBAGjB;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,MAAM,CAAI,CACvB,iCACAL,YAAY,CAAC,CACTM,QAAQ,CAAE,IADD,CAETC,IAAI,CAAE,CAFG,CAAD,CAAZ,CAIAN,OAAO,CAACO,IAAR,CAAaL,WAAb,EACH,CAPD,CASA,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,IAAD,EACI,IAAI,CAAC,OADT,CAEI,QAAQ,CAAEC,QAFd,eAGI,oBAAC,IAAD,CAAM,IAAN,EACI,KAAK,CAAC,oBADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAE,CAAC,CAAEK,QAAQ,CAAE,IAAZ,CAAkBC,OAAO,CAAE,OAA3B,CAAD,CAHX,eAII,oBAAC,KAAD,MAJJ,CAHJ,cASI,oBAAC,IAAD,CAAM,IAAN,EACI,KAAK,CAAC,cADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAE,CAAC,CAAED,QAAQ,CAAE,IAAZ,CAAkBC,OAAO,CAAE,MAA3B,CAAD,CAHX,eAII,oBAAC,KAAD,CAAO,QAAP,MAJJ,CATJ,cAeI,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,iBADJ,CAfJ,CADJ,CADJ,CAuBH,CAzCD,CA2CA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAT,KAAK,QAAK,CAC9BJ,WAAW,CAAEI,KAAK,CAACU,KAAN,CAAYd,WADK,CAAL,EAA7B,CAIA,GAAMe,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACpCd,YAAY,sLAAE,iBAAac,CAAAA,QAAQ,CAACd,YAAY,MAAZ,kBAAD,CAArB,EAAF,CADwB,CAAL,EAAnC,CAIA,cAAeP,CAAAA,OAAO,CAClBkB,eADkB,CAElBE,kBAFkB,CAAP,CAGbhB,KAHa,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Input, Button} from 'antd'\n\nconst Login = ({\n                   loginStatus,\n                   location,\n                   setLoginInfo,\n                   history\n               }) => {\n    let { redirectUrl = '/' } = location.state || {};\n\n    // 获取登录信息伪代码\n    const onFinish = values => {\n        /**** 此处去获取登录信息并存放在全局 Store ****/\n        setLoginInfo({\n            username: '小A',\n            role: 1\n        });\n        history.push(redirectUrl);\n    };\n\n    return (\n        <div className=\"login layer\">\n            <Form\n                name=\"basic\"\n                onFinish={onFinish} >\n                <Form.Item\n                    label=\"用户名\"\n                    name=\"username\"\n                    rules={[{ required: true, message: '输入用户名' }]} >\n                    <Input />\n                </Form.Item>\n                <Form.Item\n                    label=\"密码\"\n                    name=\"password\"\n                    rules={[{ required: true, message: '输入密码' }]} >\n                    <Input.Password />\n                </Form.Item>\n                <Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">登陆</Button>\n                </Form.Item>\n            </Form>\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    loginStatus: state.login.loginStatus\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setLoginInfo: (...args) => dispatch(setLoginInfo(...args))\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Login);\n"]},"metadata":{},"sourceType":"module"}